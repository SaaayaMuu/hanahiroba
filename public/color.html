<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Sample</title>

  <script type="text/javascript" src="rgbcolor.js"></script>
  <script type="text/javascript" src="canvg.js"></script>

  <style>
svg {
  height: 400px;
  width: 400px;
}
  </style>
</head>

<body>

<svg id="mysvg"
  <!--左真横 上円＆下円-->

<path d="M 220 220 C 210 200, 130 200, 120 220
         M 220 220 C 210 240, 130 240, 120 220" stroke="black" stroke-width="2" fill="white" id="left"/>

<!--右真横　上＆下-->
<path d="M 220 220 C 230 200, 310 200, 320 220
         M 220 220 C 230 240, 310 240, 320 220" stroke="black" stroke-width="2" fill="white" id="right"/>

<!--上　左＆右-->
<path d="M 220 220 C 200 210, 200 130, 220 120
         M 220 220 C 240 210, 240 130, 220 120" stroke="black" stroke-width="2" fill="white" id="toptop"/>

<!--下　左＆右-->
<path d="M 220 220 C 200 230, 200 310, 220 320
         M 220 220 C 240 230, 240 310, 220 320" stroke="black" stroke-width="2" fill="white" id="bottom"/>

<!--左上　右&左-->
<path d="M 220 220 C 205 190, 190 165, 150 150
         M 220 220 C 200 230, 140 170, 150 150" stroke="black" stroke-width="2" fill="white" id="lefttop"/>

<!--左下　左＆右-->
<path d="M 220 220 C 180 230, 160 260, 150 300
         M 220 220 C 210 260, 200 280, 150 300" stroke="black" stroke-width="2" fill="white" id="leftbottom"/>

<!--右上　左＆右-->
<path d="M 220 220 C 230 180, 250 160, 290 150
         M 220 220 C 260 210, 280 200, 290 150" stroke="black" stroke-width="2" fill="white" id="righttop"/>

<!--右下　左＆右-->
<path d="M 220 220 C 230 260, 240 280, 290 300
         M 220 220 C 260 230, 280 260, 290 300" stroke="black" stroke-width="2" fill="white" id="rightbottom"/>

</svg>
<div>
<label>①の色選択
  <input id="colorPicker1" type="color" name="favorite_color">
  <span id="output"></span>
</label><br>
<label>②の色選択
  <input id="colorPicker2" type="color" name="favorite_color">
  <span id="output"></span>
</label><br>
<label>③の色選択
  <input id="colorPicker3" type="color" name="favorite_color">
  <span id="output"></span>
</label><br>
<label>④の色選択
  <input id="colorPicker4" type="color" name="favorite_color">
  <span id="output"></span>
</label><br>
<label>⑤の色選択
  <input id="colorPicker5" type="color" name="favorite_color">
  <span id="output"></span>
</label><br>
<label>⑥の色選択
  <input id="colorPicker6" type="color" name="favorite_color">
  <span id="output"></span>
</label><br>
<label>⑦の色選択
  <input id="colorPicker7" type="color" name="favorite_color">
  <span id="output"></span>
</label><br>
<label>⑧の色選択
  <input id="colorPicker8" type="color" name="favorite_color">
  <span id="output"></span>
</label>
</div>

<input type="button" value="save" id="saveButton" /><br>

<script>


let toptop = document.getElementById('toptop');
let colorPicker1 = document.getElementById('colorPicker1');
colorPicker1.value = "#00F000";
colorPicker1.addEventListener('change', function(){
  toptop.style.fill = this.value;
});

let righttop = document.getElementById('righttop');
let colorPicker2 = document.getElementById('colorPicker2');
colorPicker2.value = "#00F000";
colorPicker2.addEventListener('change', function(){
  righttop.style.fill = this.value;
});

let right = document.getElementById('right');
let colorPicker3 = document.getElementById('colorPicker3');
colorPicker3.value = "#00F000";
colorPicker3.addEventListener('change', function(){
  right.style.fill = this.value;
});

let rightbottom = document.getElementById('rightbottom');
let colorPicker4 = document.getElementById('colorPicker4');
colorPicker4.value = "#00F000";
colorPicker4.addEventListener('change', function(){
  rightbottom.style.fill = this.value;
});

let bottom = document.getElementById('bottom');
let colorPicker5 = document.getElementById('colorPicker5');
colorPicker5.value = "#00F000";
colorPicker5.addEventListener('change', function(){
  bottom.style.fill = this.value;
});

let leftbottom = document.getElementById('leftbottom');
let colorPicker6 = document.getElementById('colorPicker6');
colorPicker6.value = "#00F000";
colorPicker6.addEventListener('change', function(){
  leftbottom.style.fill = this.value;
});

let left = document.getElementById('left');
let colorPicker7 = document.getElementById('colorPicker7');
colorPicker7.value = "#00F000";
colorPicker7.addEventListener('change', function(){
  left.style.fill = this.value;
});

let lefttop = document.getElementById('lefttop');
let colorPicker8 = document.getElementById('colorPicker8');
colorPicker8.value = "#00F000";
colorPicker8.addEventListener('change', function(){
  lefttop.style.fill = this.value;
});














// var OFF_SCREEN_CANVAS_ID = "svgOffScreeenRenderCanvas";
// var OFF_SCREEN_CANVAS_CLASS = "svg-off-screen-render-canvas";

// function saveToPngByCanvg(svgId, callback){
//     var svg = document.getElementById(svgId);
//     var svgStr = new XMLSerializer().serializeToString(svg);

//     var canvas = document.getElementById(OFF_SCREEN_CANVAS_ID);
//     if(!canvas){
//         var svgW = svg.getAttribute('width');
//         var svgH = svg.getAttribute('height');
//         canvas = createOffScreenCanvas(svgW, svgH);
//     }

//     canvg(OFF_SCREEN_CANVAS_ID, svgStr, {
//         renderCallback:function(data){
//             if(callback){
//                 var data = canvas.toDataURL('image/png');
//                 callback(data);
//             }
//         }
//     });
// }

// function createOffScreenCanvas(width, height){
//     var newCanvas = document.createElement('canvas');
//     newCanvas.setAttribute('id', OFF_SCREEN_CANVAS_ID);
//     newCanvas.setAttribute('width', width);
//     newCanvas.setAttribute('height', height);

//     //styleの設定
//     var style = newCanvas.style;
//     style.position = 'absolute';
//     style.left = '-9999px';
//     style.top = '0px';

//     newCanvas.classList.add(OFF_SCREEN_CANVAS_CLASS);
//     document.querySelector('body').appendChild(newCanvas);
//     return newCanvas;
// }

// window.onload = function(){
//     document.getElementById('saveButton').addEventListener('click', function(){
//         saveToPngByCanvg('mysvg', function(data){
//             console.log('callback----');
//             console.log(data);
//             //ここからajaxでもfetchでも使ってサーバーにデータを送る
//         });
//     })
// };


// function postImageData(dataURL){
//     $.ajax({
//         type:'post',
//         url: './save_image.php',
//         data: {
//             imgBase64: dataURL
//             //ここに連携するパラメータを追加
//             ,id: '12345abc'
//         }
//     }).done(function(msg){
//         console.log(msg);
//     })
// }




</script>
</body>
</html>